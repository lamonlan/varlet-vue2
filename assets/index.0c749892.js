var c=Object.defineProperty;var l=Object.getOwnPropertySymbols;var d=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;var p=(t,e,r)=>e in t?c(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,o=(t,e)=>{for(var r in e||(e={}))d.call(e,r)&&p(t,r,e[r]);if(l)for(var r of l(e))u.call(e,r)&&p(t,r,e[r]);return t};import{d as m}from"./create.03b31fc7.js";import{c as v}from"./lock.c245d2f0.js";import"./index.5d3634b8.js";import{a as y}from"./components.e000a0b0.js";import{c as f}from"./zIndex.bcf143f4.js";import{c as x}from"./teleport.cb83deae.js";import{N as h}from"./shared.f8da68a0.js";import"./index.19abdf8c.js";import{T as g}from"./Teleport.f02619e5.js";function O(t){return["top","bottom","right","left","center"].includes(t)}const w={show:{type:Boolean,default:!1},position:{type:String,default:"center",validator:O},transition:{type:String},overlay:{type:Boolean,default:!0},overlayClass:{type:String},overlayStyle:{type:Object},lockScroll:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},teleport:{type:String}};var s=m({name:"VarPopup",inheritAttrs:!1,mixins:[f("show",3),x,v("show","lockScroll")],props:w,created(){y(this,()=>{var t,e;return(e=(t=this.getListeners())==null?void 0:t.onRouteChange)==null?void 0:e.call(t)})},watch:{show(t){const{onOpen:e,onClose:r}=this.getListeners();t?e==null||e():r==null||r()}},methods:{hidePopup(){var r,i,n,a;const{closeOnClickOverlay:t,getListeners:e}=this;(i=(r=e())==null?void 0:r.onClickOverlay)==null||i.call(r),!!t&&((a=(n=e())["onUpdate:show"])==null||a.call(n,!1))},renderOverlay(){return this.$createElement("div",{class:["var-popup__overlay",this.overlayClass],style:o({zIndex:this.zIndex-1},this.overlayStyle),on:{click:this.hidePopup}})},renderContent(){return this.$createElement("div",{class:["var-popup__content","var-elevation--3",`var-popup--${this.position}`,this.$attrs.class],style:{zIndex:this.zIndex},attrs:o({},this.$attrs)},[this.slots("default")])},renderPopup(){var e,r;const t=this.$createElement;return t("transition",{attrs:{name:"var-fade"},on:{afterEnter:(e=this.getListeners().onOpened)!=null?e:h,afterLeave:(r=this.getListeners().onClosed)!=null?r:h}},[t("div",{class:"var--box var-popup",style:{zIndex:this.zIndex-2},directives:[{name:"show",value:this.show}]},[this.overlay&&this.renderOverlay(),t("transition",{attrs:{name:this.transition||`var-pop-${this.position}`}},[this.show&&this.renderContent()])])])}},render(){const t=arguments[0];return this.teleport?t(g,{attrs:{to:this.teleport,disabled:this.teleportDisabled}},[this.renderPopup()]):this.renderPopup()}});s.install=function(t){t.component(s.name,s)};export{s as P,w as p};
