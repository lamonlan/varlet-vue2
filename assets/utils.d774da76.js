function h(t){return t.replace(/([A-Z])/g," $1").trim().split(" ").join("-").toLowerCase()}function d(t){return Object.entries(t!=null?t:{}).reduce((e,[n,o])=>{const a=n.startsWith("--")?n:`--${h(n)}`;return e[a]=o,e},{})}const s=[];function m(t={}){s.forEach(n=>document.documentElement.style.removeProperty(n)),s.length=0;const e=d(t);Object.entries(e).forEach(([n,o])=>{document.documentElement.style.setProperty(n,o),s.push(n)})}function u(){const[,t,e]=window.location.hash.split("/");return{language:t,menuName:e}}function c(){const{href:t}=window.location,e=t.slice(t.indexOf("?"));return new URLSearchParams(e)}function f(t,e,n="mobile"){const o=()=>{var r;const a=n==="mobile"?(r=c().get("language"))!=null?r:"zh-CN":u().language;e(a)};i(t,o),o()}function g(t,e){const n=()=>{var a;const o=(a=c().get("platform"))!=null?a:"mobile";e(o)};i(t,n),n()}function l(t,e,n=!0){const o=a=>{const{data:r}=a;r.action==="themesChange"&&e(r.data,r.from)};window.addEventListener("message",o),n&&t.$on("hook:beforeDestroy",()=>{window.removeEventListener("message",o)}),e(w(),"default")}function i(t,e){t.$on("hook:mounted",()=>{window.addEventListener("hashchange",e),window.addEventListener("popstate",e)}),t.$on("hook:beforeDestroy",()=>{window.removeEventListener("hashchange",e),window.removeEventListener("popstate",e)})}function w(t="VARLET_THEMES"){var n;let e=window.localStorage.getItem(t);return e||(e=((n=window.matchMedia)==null?void 0:n.call(window,"(prefers-color-scheme: dark)").matches)?"darkThemes":"themes",window.localStorage.setItem(t,e)),e}function p(t,e,n){l(t,o=>{m(o==="darkThemes"?e:null),n==null||n(o)})}export{p as a,g as b,w as g,f as w};
